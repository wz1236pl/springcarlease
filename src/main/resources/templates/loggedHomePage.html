<html>
  <head>
    <title>Wypożyczalnia Auto-PANS</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">   
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body class="d-flex flex-column">
    <script th:if="${success}">
      window.onload = (event)=> {
      let myAlert = document.querySelector('.toast');
      let bsAlert = new bootstrap.Toast(myAlert);
      bsAlert.show();
     }</script>
    <nav class="navbar navbar-expand-lg navbar-light bg-success w-100 justify-content-between">
      <a class="navbar-brand mx-2" href="/"> <i class="bi bi-car-front-fill"></i> Auto-PANS</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <ul class="navbar-nav ">
          <li class="nav-item active mx-2">
            <a class="nav-link" href="/">Witaj <span sec:authentication="name"></span>!</a>
          </li>
          <li class="nav-item active mx-2">
            <a class="nav-link" href="/"><i class="bi bi-house-door-fill"></i> Strona główna </a>
          </li>
          <li class="nav-item active mx-2">
            <a class="nav-link" href="/user/mojeRezerwacje"><i class="bi bi-person-fill-add"></i> Moje rezerwacje</a>
          </li>
          <li class="nav-item active mx-2">
            <a class="nav-link" href="/logout"><i class="bi bi-box-arrow-in-right"></i> Wyloguj </a>
          </li>
        </ul>
      </div>
    </nav>
    <div class="p-3 mb-1 bg-transparent text-dark w-100">
    <div class="container w-auto" >
        <div class="table table-responsive mw-100">
            <table>
              <div class="card bg-secondary w-100 mt-2">
                <div class="card-body">
                    <div class="row flex-sm-nowrap d-flex flex-column ">
                      <h4 class="card-title mb-3" ><label>Wybierz miasto, w którym chcesz wypożyczyć samochód!</label></h4>
                      <div class="col">
                        <div class="input-group mb-3">
                          <form action="/szukaj" mathod="post">
                          <span  class="input-group-text rounded-start">Miasto</span>
                          <select name="szukajMiasto" class="form-select rounded-end" aria-label="Miasto: ">
                            <option value="">Dowolne</option>
                            <option value="Rzeszów">Rzeszów</option>
                            <option value="Krosno">Krosno</option>
                            <option value="Kraków">Kraków</option>
                          </select>
                          <button type="submit" class="btn btn-primary rounded mx-1 "><i class="bi bi-search"></i> Szukaj</button>
                        </form>
                        </div>
                      </div>
                    </div>
                </div>
              </div>
                <div class="card bg-secondary w-100 mt-2" th:each="a : ${autaOut}">
                    <div class="card-body">
                        <div class="row flex-sm-nowrap ">
                            <div class="col-sm  d-flex justify-content-sm-start">
                                <h4 class="card-title" ><label th:text="${a.marka}+' '+${a.model}"></label> <label style="color:#5e008c" th:text="${a.cena}+'zł/24h'"></label></h4>
                            </div>
                        </div>
                      
                        <div th:id="'carouselExampleControls'+${a.id}" class="carousel slide" data-ride="carousel" style="height: 350px;">
                            <div class="carousel-inner">
                              <div th:each="img, i: ${a.zdj}" th:class="${i.first} ? 'carousel-item active' : 'carousel-item'">
                                <img id="ItemPreview" class="d-block h-100 mx-auto" th:src="'data:image/png;base64,'+${img.getImage()}">
                              </div>
                            </div>
                          
                          <div>
                            <a class="carousel-control-prev" th:href="'#carouselExampleControls'+${a.id}" role="button" data-slide="prev">
                              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            </a>
                            <a class="carousel-control-next" th:href="'#carouselExampleControls'+${a.id}" role="button" data-slide="next">
                              <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            </a>
                          </div>
                        </div>
                        <div class="row fs-5">
                            <div class="col-md text-left" style="white-space: nowrap;"><Label th:utext="'Rok: '+${a.rok}"></Label></div>    
                            <div class="col-md text-left" style="white-space: nowrap;"><Label th:utext="'Moc: '+${a.moc}+' HP'"></Label></div>    
                            <div class="col-md text-left" style="white-space: nowrap;"><Label th:utext="'Miasto: '+${a.miasto}"></Label></div>    
                        </div>
                        <div class="row fs-5">
                            <div class="col-md text-left" style="white-space: nowrap;"><Label th:utext="'Typ: '+${a.typ}"></Label></div>    
                            <div class="col-md text-left" style="white-space: nowrap;"><Label th:utext="'Kolor: '+${a.kolor}"></Label></div>    
                            <div class="col-md text-left" style="white-space: nowrap;"><Label th:utext="'Numer rejestracyjny: '+${a.nrRej}"></Label></div>    
                        </div>
                    </div>
                    <a th:href="'/user/rezerwuj/'+*{a.id}" class="btn btn-primary rounded-0 rounded-bottom">Rezerwuje</a>
                </div>
            </table>
        </div>
    </div>
   </div>
  </body>
</html>

<style>
body{
    background-color: #303030;
    }
caption{
    color: white;
    }
:link { color: white; }
:visited { color: white; }
</style>
  
 <!-- toast start -->
 <div aria-live="polite" aria-atomic="true" class="d-flex justify-content-center align-items-center w-100 my-2 fixed-top">
  <div class="toast" role="alert" data-animation="true" data-autohide="false" aria-live="assertive" aria-atomic="true">
    <div class="toast-header">
      <strong class="me-auto">Nowe powiadomienie</strong>
      <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
    <div class="toast-body">
      Pomyśnie dokonano rezerwacji!
    </div>
  </div>
</div>
<!-- toast end -->